<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
    <meta name="description" content="">
    <title>Input user location information using Draggable Marker</title>
    <!-- Load HERE API Code Libraries-->
    <link rel="stylesheet" type="text/css" href="https://js.api.here.com/v3/3.1/mapsjs-ui.css" />
    <script type="text/javascript" src="https://js.api.here.com/v3/3.1/mapsjs-core.js"></script>
    <script type="text/javascript" src="https://js.api.here.com/v3/3.1/mapsjs-service.js"></script>
    <script type="text/javascript" src="https://js.api.here.com/v3/3.1/mapsjs-ui.js"></script>
    <script type="text/javascript" src="https://js.api.here.com/v3/3.1/mapsjs-mapevents.js"></script>

    <!-- HERE credentials -->
    <!-- Get your credentials from https://developer.here.com -->
    <!-- <script src="credentials.js"></script> -->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-csv/0.71/jquery.csv-0.71.min.js"></script> -->

    <link href="assets/css/bootstrap.min.css" rel="stylesheet" />
    <link href="assets/css/material-kit.css?v=1.2.1" rel="stylesheet" />
    <script src="assets/js/material-kit.js?v=1.2.1" type="text/javascript"></script>
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>


    <style>
        input[type=text],
        input[type=number],
        select {
            width: 100%;
            padding: 12px 20px;
            margin: 8px 0;
            display: inline-block;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
        }

        .body {
            font-family: Helvetica;
            font-size: 12px;
            color: #3f454d;
        }

        .map {
            position: fixed;
            top: 0;
            left: 0;
            background-color: white;
            width: 100%;
            height: 100vh;
        }

        .panel {
            position: fixed;
            left: 10px;
            background-color: white;
            padding: 70px 10px;
            min-width: 200px;
            height: 80%;
            resize: both;
            overflow: hidden;
            box-shadow: 0em 0 0.4em 0 rgba(15, 22, 33, 0.6);
            border-radius: 0.5em;
        }

        .input_form {
            overflow: auto;
            width: 100%;
            height: 100%;
        }

        .toggle {
            position: fixed;
            top: 20px;
            left: 20px;
            font-size: 18px;
            cursor: pointer;
            background-color: white;
            color: #3f454d;
            border: none;
            text-align: center;
            width: 40px;
            height: 40px;
            box-shadow: 0em 0 0.4em 0 rgba(15, 22, 33, 0.6);
            border-radius: 0.5em;
        }

        /* .required:after {
            content: " *";
            color: red;
        } */

        #p {
            display: none;
        }
    </style>

</head>

<body class="body">
    <div id="navbarjs"></div>

    <div class="section-space"></div>
    <div class="container">

        <!-- DIV for map display -->
        <div id="map" class="map"></div>

        <!-- DIV for text panel -->
        <div id="panel" class="panel">

            <div id="current_position"></div>

            <div id="input_form" class="input_form">
                <h3>Get Tested</h3>
                <form id="user_info" action="#">

                    <p>
                        <select id="country" name="country" class="form-control">
                            <option value="NO">Select if you Recently Traveled</option>
                            <option value="Afghanistan">Afghanistan</option>
                            <option value="Åland Islands">Åland Islands</option>
                            <option value="Albania">Albania</option>
                            <option value="Algeria">Algeria</option>
                            <option value="American Samoa">American Samoa</option>
                            <option value="Andorra">Andorra</option>
                            <option value="Angola">Angola</option>
                            <option value="Anguilla">Anguilla</option>
                            <option value="Antarctica">Antarctica</option>
                            <option value="Antigua and Barbuda">Antigua and Barbuda</option>
                            <option value="Argentina">Argentina</option>
                            <option value="Armenia">Armenia</option>
                            <option value="Aruba">Aruba</option>
                            <option value="Australia">Australia</option>
                            <option value="Austria">Austria</option>
                            <option value="Azerbaijan">Azerbaijan</option>
                            <option value="Bahamas">Bahamas</option>
                            <option value="Bahrain">Bahrain</option>
                            <option value="Bangladesh">Bangladesh</option>
                            <option value="Barbados">Barbados</option>
                            <option value="Belarus">Belarus</option>
                            <option value="Belgium">Belgium</option>
                            <option value="Belize">Belize</option>
                            <option value="Benin">Benin</option>
                            <option value="Bermuda">Bermuda</option>
                            <option value="Bhutan">Bhutan</option>
                            <option value="Bolivia">Bolivia</option>
                            <option value="Bosnia and Herzegovina">Bosnia and Herzegovina</option>
                            <option value="Botswana">Botswana</option>
                            <option value="Bouvet Island">Bouvet Island</option>
                            <option value="Brazil">Brazil</option>
                            <option value="British Indian Ocean Territory">British Indian Ocean Territory</option>
                            <option value="Brunei Darussalam">Brunei Darussalam</option>
                            <option value="Bulgaria">Bulgaria</option>
                            <option value="Burkina Faso">Burkina Faso</option>
                            <option value="Burundi">Burundi</option>
                            <option value="Cambodia">Cambodia</option>
                            <option value="Cameroon">Cameroon</option>
                            <option value="Canada">Canada</option>
                            <option value="Cape Verde">Cape Verde</option>
                            <option value="Cayman Islands">Cayman Islands</option>
                            <option value="Central African Republic">Central African Republic</option>
                            <option value="Chad">Chad</option>
                            <option value="Chile">Chile</option>
                            <option value="China">China</option>
                            <option value="Christmas Island">Christmas Island</option>
                            <option value="Cocos (Keeling) Islands">Cocos (Keeling) Islands</option>
                            <option value="Colombia">Colombia</option>
                            <option value="Comoros">Comoros</option>
                            <option value="Congo">Congo</option>
                            <option value="Congo, The Democratic Republic of The">Congo, The Democratic Republic of The
                            </option>
                            <option value="Cook Islands">Cook Islands</option>
                            <option value="Costa Rica">Costa Rica</option>
                            <option value="Cote D'ivoire">Cote D'ivoire</option>
                            <option value="Croatia">Croatia</option>
                            <option value="Cuba">Cuba</option>
                            <option value="Cyprus">Cyprus</option>
                            <option value="Czech Republic">Czech Republic</option>
                            <option value="Denmark">Denmark</option>
                            <option value="Djibouti">Djibouti</option>
                            <option value="Dominica">Dominica</option>
                            <option value="Dominican Republic">Dominican Republic</option>
                            <option value="Ecuador">Ecuador</option>
                            <option value="Egypt">Egypt</option>
                            <option value="El Salvador">El Salvador</option>
                            <option value="Equatorial Guinea">Equatorial Guinea</option>
                            <option value="Eritrea">Eritrea</option>
                            <option value="Estonia">Estonia</option>
                            <option value="Ethiopia">Ethiopia</option>
                            <option value="Falkland Islands (Malvinas)">Falkland Islands (Malvinas)</option>
                            <option value="Faroe Islands">Faroe Islands</option>
                            <option value="Fiji">Fiji</option>
                            <option value="Finland">Finland</option>
                            <option value="France">France</option>
                            <option value="French Guiana">French Guiana</option>
                            <option value="French Polynesia">French Polynesia</option>
                            <option value="French Southern Territories">French Southern Territories</option>
                            <option value="Gabon">Gabon</option>
                            <option value="Gambia">Gambia</option>
                            <option value="Georgia">Georgia</option>
                            <option value="Germany">Germany</option>
                            <option value="Ghana">Ghana</option>
                            <option value="Gibraltar">Gibraltar</option>
                            <option value="Greece">Greece</option>
                            <option value="Greenland">Greenland</option>
                            <option value="Grenada">Grenada</option>
                            <option value="Guadeloupe">Guadeloupe</option>
                            <option value="Guam">Guam</option>
                            <option value="Guatemala">Guatemala</option>
                            <option value="Guernsey">Guernsey</option>
                            <option value="Guinea">Guinea</option>
                            <option value="Guinea-bissau">Guinea-bissau</option>
                            <option value="Guyana">Guyana</option>
                            <option value="Haiti">Haiti</option>
                            <option value="Heard Island and Mcdonald Islands">Heard Island and Mcdonald Islands</option>
                            <option value="Holy See (Vatican City State)">Holy See (Vatican City State)</option>
                            <option value="Honduras">Honduras</option>
                            <option value="Hong Kong">Hong Kong</option>
                            <option value="Hungary">Hungary</option>
                            <option value="Iceland">Iceland</option>
                            <option value="India">India</option>
                            <option value="Indonesia">Indonesia</option>
                            <option value="Iran, Islamic Republic of">Iran, Islamic Republic of</option>
                            <option value="Iraq">Iraq</option>
                            <option value="Ireland">Ireland</option>
                            <option value="Isle of Man">Isle of Man</option>
                            <option value="Israel">Israel</option>
                            <option value="Italy">Italy</option>
                            <option value="Jamaica">Jamaica</option>
                            <option value="Japan">Japan</option>
                            <option value="Jersey">Jersey</option>
                            <option value="Jordan">Jordan</option>
                            <option value="Kazakhstan">Kazakhstan</option>
                            <option value="Kenya">Kenya</option>
                            <option value="Kiribati">Kiribati</option>
                            <option value="Korea, Democratic People's Republic of">Korea, Democratic People's Republic
                                of</option>
                            <option value="Korea, Republic of">Korea, Republic of</option>
                            <option value="Kuwait">Kuwait</option>
                            <option value="Kyrgyzstan">Kyrgyzstan</option>
                            <option value="Lao People's Democratic Republic">Lao People's Democratic Republic</option>
                            <option value="Latvia">Latvia</option>
                            <option value="Lebanon">Lebanon</option>
                            <option value="Lesotho">Lesotho</option>
                            <option value="Liberia">Liberia</option>
                            <option value="Libyan Arab Jamahiriya">Libyan Arab Jamahiriya</option>
                            <option value="Liechtenstein">Liechtenstein</option>
                            <option value="Lithuania">Lithuania</option>
                            <option value="Luxembourg">Luxembourg</option>
                            <option value="Macao">Macao</option>
                            <option value="Macedonia, The Former Yugoslav Republic of">Macedonia, The Former Yugoslav
                                Republic of</option>
                            <option value="Madagascar">Madagascar</option>
                            <option value="Malawi">Malawi</option>
                            <option value="Malaysia">Malaysia</option>
                            <option value="Maldives">Maldives</option>
                            <option value="Mali">Mali</option>
                            <option value="Malta">Malta</option>
                            <option value="Marshall Islands">Marshall Islands</option>
                            <option value="Martinique">Martinique</option>
                            <option value="Mauritania">Mauritania</option>
                            <option value="Mauritius">Mauritius</option>
                            <option value="Mayotte">Mayotte</option>
                            <option value="Mexico">Mexico</option>
                            <option value="Micronesia, Federated States of">Micronesia, Federated States of</option>
                            <option value="Moldova, Republic of">Moldova, Republic of</option>
                            <option value="Monaco">Monaco</option>
                            <option value="Mongolia">Mongolia</option>
                            <option value="Montenegro">Montenegro</option>
                            <option value="Montserrat">Montserrat</option>
                            <option value="Morocco">Morocco</option>
                            <option value="Mozambique">Mozambique</option>
                            <option value="Myanmar">Myanmar</option>
                            <option value="Namibia">Namibia</option>
                            <option value="Nauru">Nauru</option>
                            <option value="Nepal">Nepal</option>
                            <option value="Netherlands">Netherlands</option>
                            <option value="Netherlands Antilles">Netherlands Antilles</option>
                            <option value="New Caledonia">New Caledonia</option>
                            <option value="New Zealand">New Zealand</option>
                            <option value="Nicaragua">Nicaragua</option>
                            <option value="Niger">Niger</option>
                            <option value="Nigeria">Nigeria</option>
                            <option value="Niue">Niue</option>
                            <option value="Norfolk Island">Norfolk Island</option>
                            <option value="Northern Mariana Islands">Northern Mariana Islands</option>
                            <option value="Norway">Norway</option>
                            <option value="Oman">Oman</option>
                            <option value="Pakistan">Pakistan</option>
                            <option value="Palau">Palau</option>
                            <option value="Palestinian Territory, Occupied">Palestinian Territory, Occupied</option>
                            <option value="Panama">Panama</option>
                            <option value="Papua New Guinea">Papua New Guinea</option>
                            <option value="Paraguay">Paraguay</option>
                            <option value="Peru">Peru</option>
                            <option value="Philippines">Philippines</option>
                            <option value="Pitcairn">Pitcairn</option>
                            <option value="Poland">Poland</option>
                            <option value="Portugal">Portugal</option>
                            <option value="Puerto Rico">Puerto Rico</option>
                            <option value="Qatar">Qatar</option>
                            <option value="Reunion">Reunion</option>
                            <option value="Romania">Romania</option>
                            <option value="Russian Federation">Russian Federation</option>
                            <option value="Rwanda">Rwanda</option>
                            <option value="Saint Helena">Saint Helena</option>
                            <option value="Saint Kitts and Nevis">Saint Kitts and Nevis</option>
                            <option value="Saint Lucia">Saint Lucia</option>
                            <option value="Saint Pierre and Miquelon">Saint Pierre and Miquelon</option>
                            <option value="Saint Vincent and The Grenadines">Saint Vincent and The Grenadines</option>
                            <option value="Samoa">Samoa</option>
                            <option value="San Marino">San Marino</option>
                            <option value="Sao Tome and Principe">Sao Tome and Principe</option>
                            <option value="Saudi Arabia">Saudi Arabia</option>
                            <option value="Senegal">Senegal</option>
                            <option value="Serbia">Serbia</option>
                            <option value="Seychelles">Seychelles</option>
                            <option value="Sierra Leone">Sierra Leone</option>
                            <option value="Singapore">Singapore</option>
                            <option value="Slovakia">Slovakia</option>
                            <option value="Slovenia">Slovenia</option>
                            <option value="Solomon Islands">Solomon Islands</option>
                            <option value="Somalia">Somalia</option>
                            <option value="South Africa">South Africa</option>
                            <option value="South Georgia and The South Sandwich Islands">South Georgia and The South
                                Sandwich Islands</option>
                            <option value="Spain">Spain</option>
                            <option value="Sri Lanka">Sri Lanka</option>
                            <option value="Sudan">Sudan</option>
                            <option value="Suriname">Suriname</option>
                            <option value="Svalbard and Jan Mayen">Svalbard and Jan Mayen</option>
                            <option value="Swaziland">Swaziland</option>
                            <option value="Sweden">Sweden</option>
                            <option value="Switzerland">Switzerland</option>
                            <option value="Syrian Arab Republic">Syrian Arab Republic</option>
                            <option value="Taiwan, Province of China">Taiwan, Province of China</option>
                            <option value="Tajikistan">Tajikistan</option>
                            <option value="Tanzania, United Republic of">Tanzania, United Republic of</option>
                            <option value="Thailand">Thailand</option>
                            <option value="Timor-leste">Timor-leste</option>
                            <option value="Togo">Togo</option>
                            <option value="Tokelau">Tokelau</option>
                            <option value="Tonga">Tonga</option>
                            <option value="Trinidad and Tobago">Trinidad and Tobago</option>
                            <option value="Tunisia">Tunisia</option>
                            <option value="Turkey">Turkey</option>
                            <option value="Turkmenistan">Turkmenistan</option>
                            <option value="Turks and Caicos Islands">Turks and Caicos Islands</option>
                            <option value="Tuvalu">Tuvalu</option>
                            <option value="Uganda">Uganda</option>
                            <option value="Ukraine">Ukraine</option>
                            <option value="United Arab Emirates">United Arab Emirates</option>
                            <option value="United Kingdom">United Kingdom</option>
                            <option value="United States">United States</option>
                            <option value="United States Minor Outlying Islands">United States Minor Outlying Islands
                            </option>
                            <option value="Uruguay">Uruguay</option>
                            <option value="Uzbekistan">Uzbekistan</option>
                            <option value="Vanuatu">Vanuatu</option>
                            <option value="Venezuela">Venezuela</option>
                            <option value="Viet Nam">Viet Nam</option>
                            <option value="Virgin Islands, British">Virgin Islands, British</option>
                            <option value="Virgin Islands, U.S.">Virgin Islands, U.S.</option>
                            <option value="Wallis and Futuna">Wallis and Futuna</option>
                            <option value="Western Sahara">Western Sahara</option>
                            <option value="Yemen">Yemen</option>
                            <option value="Zambia">Zambia</option>
                            <option value="Zimbabwe">Zimbabwe</option>
                        </select>
                    </p>

                    <input type="hidden" id="lat" onblur="moveMarkerByInputForm()" min="-90" max="+90" size="30">
                    <input type="hidden" id="lng" onblur="moveMarkerByInputForm()" min="-180" max="+180" size="30">

                    <p>
                        <b>I feel so tired</b>
                        <label><input type="radio" name="tired" id="tired" value="1">Yes</label>
                        <label><input type="radio" name="tired" id="tired" value="0" checked>No</label>
                    </p>
                    <p>
                        <!-- <b>I have No Taste and Smell of Food </b> -->
                        <b>I can taste and smell food</b>
                        <label><input type="radio" name="food" id="food" value="0" checked>Yes</label>
                        <label><input type="radio" name="food" id="food" value="1">No</label>
                    </p>
                    <p>
                        <b>I have aches and pains</b>
                        <label><input type="radio" name="pains" id="pains" value="1">Yes</label>
                        <label><input type="radio" name="pains" id="pains" value="0" checked>No</label>
                    </p>
                    <p class="required">
                        <b>I have a fever</b>
                        <label><input type="radio" name="fever" id="fever" value="1">Yes</label>
                        <label><input type="radio" name="fever" id="fever" value="0" checked>No</label>
                    </p>
                    <p class="required">
                        <b>I have a cough</b>
                        <label><input type="radio" name="cough" id="cough" value="1">Yes</label>
                        <label><input type="radio" name="cough" id="cough" value="0" checked>No</label>
                    </p>
                    <p class="required">
                        <!-- <b>Have Breath Shortness</b> -->
                        <b>I have short of breath</b>
                        <label><input type="radio" name="breath" id="breath" value="1">Yes</label>
                        <label><input type="radio" name="breath" id="breath" value="0" checked>No</label>
                    </p>

                    <p>
                        <button type="button" class="btn" value="home" id="home" onclick="UserSelect(this.value);"
                            style="background-color: white; color: black;">Home</button>
                        <button type="button" class="btn" value="apartment" id="apartment"
                            onclick="UserSelect(this.value);">Apartment</button>
                        <button type="button" class="btn" value="hotel" id="hotel"
                            onclick="UserSelect(this.value);">Hotel</button>


                    </p>

                    <p><textarea id="address" rows="3" cols="50"></textarea></p>
                    <p class="required">
                        <input type="text" name="phone" id="phone" style="width: 300px;" placeholder="Phone Number">
                    </p>
                    <p>
                        <input id="name" type="text" size="20" style="width: 300px;" placeholder="Name">
                    </p>
                    <div class="g-recaptcha" data-sitekey="6LeyQ_wUAAAAAOY7kPU26jr9UBUP3phy7rCTvrmZ"></div>

                    <center><input id="sbutton" type="button" class="btn" onclick="SendOTP('p')" value="Send OTP">
                    </center>
                    <center>
                        <div id="p">
                            <input type="text" id="otp"><br>
                            <input type="button" class="btn" onclick="insertInToDatabase('p')" value="Enter OTP">
                        </div>
                    </center>


                    <center><input id="hbutton" type="button" class="btn btn-success" value="Direct Hospital"
                            onclick="RedirectH();"></center>
                    <!-- <input type="button" onclick="insertInToDatabase('h')" value="Hospital"> -->
                </form>
            </div>
        </div>
        <div class="row">
            <div class="modal" id="supportus">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-body">
                            <h2 class="modal-title card-title text-center" id="myModalLabel">Support US</h2>
                            <div class="description">
                                <h4 class="info-description">
                                    Our COV19-LA Mobile APP and COVID Map is a labor of love. We offer it free of
                                    charge. But we do have expenses for website hosting and storage and other
                                    essentials like utilities, office supplies, rent…you know how it is. We could
                                    use your support.
                                    <br><br>
                                    Subscribe to our monthly bulletin through <a style="color: blue;"
                                        href="https://www.patreon.com/LEETintelligence">Patreon</a>
                                    <br><br>
                                    Have you got an idea for using location-based data in your business or profession?
                                    As a subscriber, you get free consultations with me to help you bring your
                                    vision to life.
                                    <br><br>
                                    Please share this website and APP with your loved ones, family, and friends to
                                    prevent the spread of COVID-19, flatten the curve, and save lives.
                                </h4>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-rose" data-dismiss="modal">Close</button>
                        </div>
                    </div>


                </div>
            </div>
        </div>

        <!-- <footer class="footer footer-black footer-big">
            <div class="container">

                <div class="content">
                    <div class="row">

                        <hr />
                        <center>
                            <ul>
                                <li>
                                    <a href="privacypolicy.html">
                                        Privacy Policy
                                    </a>
                                </li>
                                <li>
                                <li>
                                    <a href="home.html">
                                        Cov19-LA
                                    </a>
                                </li>
                                <li>
                                    <a href="aboutdata.html">
                                        About Data
                                    </a>
                                </li>
                                <li>
                                    <a href="aboutus.html">
                                        About LEETintelligence
                                    </a>
                                </li>

                                <li>
                                    <a href="https://leetintelligence.com/contactus.html">
                                        Contact Us
                                    </a>
                                </li>
                                <li>
                                    <a data-toggle="modal" data-target="#supportus">
                                        Support US
                                    </a>
                                </li>

                            </ul>
                        </center>
                    </div>
                    <div class="row">
                        <center>
                            <div class="copyright pull-down">
                                Copyright &copy;
                                <script>document.write(new Date().getFullYear())</script> LEETintelligence All
                                Rights Reserved.
                            </div>
                        </center>
                    </div>
        </footer> -->

        <script src="navbar.js"></Script>
        <Script src="footer.js"></Script>
        <script>
            document.getElementById('navbarjs').innerHTML = navbarcontain;
                //document.getElementById('footerjs').innerHTML = footercontain;

        </script>

        <script>
            function insertInToDatabase(type) {
                var phone = $('#phone').val();
                //Get data from the form and do somthing for insert in to a database 
                //The data input from the form should be validated before insert in to a database 
                if (phone.length >= 10 && phone.length < 13) {
                    var name = document.getElementById('name').value,
                        lat = document.getElementById('lat').value,
                        lng = document.getElementById('lng').value,
                        address = document.getElementById('address').value,
                        cntry = document.getElementById('country').value,
                        fever = $('input[name="fever"]:checked').val(),
                        cough = $('input[name="cough"]:checked').val(),
                        breath = $('input[name="breath"]:checked').val(),
                        pain = $('input[name="pains"]:checked').val(),
                        taste = $('input[name="food"]:checked').val(),
                        tired = $('input[name="tired"]:checked').val(),
                        phone = document.getElementById('phone').value,
                        otp = document.getElementById('otp').value;
                    //alert('Name: ' + name + '\n' + 'Coordinates: ' + lat + ',' + lng + '\n' + 'Address: ' + address);
                    if (type == 'p') inserttype = "insertperson";
                    else inserttype = "inserthospital";
                    var data = {
                        "name": name,
                        "address": address,
                        "lat": lat,
                        "lon": lng,
                        "cntry": cntry,
                        "fever": fever,
                        "cough": cough,
                        "breath": breath,
                        "pain": pain,
                        "taste": taste,
                        "tired": tired,
                        "phone": phone,
                        "location": UserLocation,
                        "otp": otp
                    }

                    request = $.ajax({
                        url: "https://leetintelligence.com:3000/" + inserttype,
                        contentType: 'application/json',
                        type: "post",
                        data: JSON.stringify(data)
                    });

                    // Callback handler that will be called on success
                    request.done(function (response, textStatus, jqXHR) {
                        // Log a message to the console
                        if (response == "Updated") DirectToHospital();
                        else alert(response);
                        // location.reload();
                    });

                    // Callback handler that will be called on failure
                    request.fail(function (jqXHR, textStatus, errorThrown) {
                        // Log the error to the console
                        alert("Error");
                    });
                }
                else alert("Please provide all required fields");
            }

            function DirectToHospital() {
                // var result = confirm("Thank you. Nearby Hospital may contact you soon (OR) you can contact Hospistal. Direct to nearby hospitals");
                // if (result == true){
                //     window.open('https://leetintelligence.com/LEETAPP/HospitalNearBy.html');
                // }
                // else location.reload();
                //alert("Thank you. Nearby Hospital may contact you soon (OR) you can contact Hospistal. Direct to nearby hospitals");
                alert("Thank you. Nearby Hospital may contact you soon (OR) you can contact nearby hospistal.");
                location.href = "https://leetintelligence.com/LEETAPP/HospitalNearBy.html";
            }

            function phonenumberv(inputtxt) {
                var phoneno = /^\+?([0-9]{2})\)?(([0-9]{9})|([0-9]{10}))$/;
                if ((inputtxt.match(phoneno))) {
                    return true;
                }
                else {
                    return false;
                }
            }

            //OTP
            function SendOTP(val) {
                //  var recaptcha = $("#g-recaptcha-response").val();
                //      if (recaptcha === "") {
                //         event.preventDefault();
                //         alert("Please check the recaptcha");
                //      }
                var phonenumber = document.getElementById('phone').value;
                if (!phonenumberv(phonenumber)) {
                    alert("Invalid Phone Number")
                }
                var result = confirm("Please Verify your Phone Number: " + phonenumber);
                if (result == true && phonenumberv(phonenumber)) {
                    request = $.ajax({
                        url: "https://leetintelligence.com:3000/otp",
                        contentType: 'application/json',
                        type: "post",
                        data: JSON.stringify({ phone: phonenumber })
                    });
                    // Callback handler that will be called on success
                    request.done(function (response, textStatus, jqXHR) {
                        // Log a message to the console
                        if (response) {
                            //alert(response);
                            alert("LEETintelligence sent the COVID Security Code to your Phone. Please verify to Get Tested.");
                            if (val == 'p') {
                                $('#p').show();
                                $('#sbutton').hide();
                            }

                        }
                        else {
                            alert(response);
                        }
                    });

                    // Callback handler that will be called on failure
                    request.fail(function (jqXHR, textStatus, errorThrown) {
                        // Log the error to the console
                        alert("Error");
                    });
                }
            }
        </script>

        <!-- The button for hide-Show the panel  -->
        <button class="toggle" onclick="togglePanel()" style="margin-top: 50px;">☰</button>
    </div>

    <script type="text/javascript">

        var url_string = window.location.href;
        var url = new URL(url_string);
        //var latTemp = parseFloat(url.searchParams.get("lat"));
        //var lngTemp = parseFloat(url.searchParams.get("lng"));
        var latTemp = parseFloat(localStorage.lat);
        var lngTemp = parseFloat(localStorage.lng);
        if (latTemp && lngTemp) {
            var defaultLat = latTemp,
                defaultLng = lngTemp;
        } else {
            var defaultLat = 14.075949,
                defaultLng = 100.614844;
        }
        var lat = defaultLat;
        var lng = defaultLng;


        $('#cmap').attr('href', 'map.html?lat=' + defaultLat + "&lng=" + defaultLng);
        $('#clamp').attr('href', 'UserNearBy.html?lat=' + defaultLat + "&lng=" + defaultLng);
        $('#hmap').attr('href', 'HospitalNearBy.html?lat=' + defaultLat + "&lng=" + defaultLng);

        // HERE credentials - https://developer.here.com - manjursgee@gmail.com - Freemium - Transactions per month 250K
        var JS_APIKEY = 'mFIKL7_dKD4sTrqcvxdg6hpKw8x8yz9aOetOQV-_PYE',
            REST_APIKEY = 'Pvk8ZMAwP_NHHans8F_XURDu8XYiHC_UYewt1bKTX1A';

        //Hide-Show the panel 
        function togglePanel() {
            var x = document.getElementById('panel');
            if (x.style.display === 'none') {
                x.style.display = 'block';
            } else {
                x.style.display = 'none';
            }
        }

        //Remove the previous marker before the new request 
        function removeResult() {
            groupMarker.removeAll();
        }

        //The default position is used in the case unable to retrieve location from the HTML5 Geolocation API
        //14.075949, 100.614844 @AIT

        //HTML5 Geolocation API
        function findCurrentPosition() {
            // async function success(position) {
            // var lat = position.coords.latitude,
            //    lng = position.coords.longitude;
            var address;
            var content = "";
            //var content = '<h3>Your position</h3>'
            + '<a href="#" onclick="map.setCenter({ lat: ' + lat + ', lng: ' + lng + ' });map.setZoom(14)">'
                + lat.toFixed(6) + ',' + lng.toFixed(6) + '</a>';

            reverseGeocode(function (data) {
                try {
                    address = data.Response.View[0].Result[0].Location.Address.Label;
                    content += '<br>' + address;
                    document.getElementById('address').value = address;
                }
                catch (err) {
                    //alert('No address found!');
                    content += '<br>No address found!';
                    document.getElementById('address').value = '';
                }
                document.getElementById('lat').value = lat;
                document.getElementById('lng').value = lng;
            }, lat, lng);

            document.getElementById('current_position').innerHTML = content;

            //Call this function to add a draggable marker to the map
            map.setZoom(14);
            addDraggableMarker(map, behavior, lat, lng);
            /* }
             function error() {
                 switch (error.code) {
                     case error.PERMISSION_DENIED:
                         alert("User denied the request for Geolocation.");
                         break;
                     case error.POSITION_UNAVAILABLE:
                         alert("Location information is unavailable.");
                         break;
                     case error.TIMEOUT:
                         alert("The request to get user location timed out.");
                         break;
                     case error.UNKNOWN_ERROR:
                         alert("An unknown error occurred.");
                         break;
                 }
                 document.getElementById('current_position').innerHTML = '<h3>Your position</h3>Unable to retrieve your location.';
                 //Call this function to add a draggable marker to the map
                 map.setZoom(1);
                 addDraggableMarker(map, behavior, defaultLat, defaultLng);
             }
             if (!navigator.geolocation) {
                 alert('Geolocation is not supported by your browser.');
                 document.getElementById('current_position').innerHTML = 'Geolocation is not supported by your browser.';
                 //Call this function to add a draggable marker to the map
                 map.setZoom(1);
                 addDraggableMarker(map, behavior, defaultLat, defaultLng);
             } else {
                 document.getElementById('current_position').innerHTML = '<h3>Your position</h3>Locating…';
                 navigator.geolocation.getCurrentPosition(success, error);
             }*/
        }

        //Reverse Geocode - HERE Geocoder API
        function reverseGeocode(callback, lat, lng) {
            return $.ajax({
                url: 'https://reverse.geocoder.ls.hereapi.com/6.2/reversegeocode.json',
                type: 'GET',
                dataType: 'jsonp',
                jsonp: 'jsoncallback',
                data: {
                    prox: lat + ',' + lng + ',250',
                    mode: 'retrieveAddresses',
                    maxresults: '1',
                    gen: '9',
                    // language: 'en-US',
                    apiKey: REST_APIKEY
                },
                success: function (data) {
                    //console.log(data);
                    callback(data);
                }
            });
        }

        //Draggable Marker 
        var groupMarker = new H.map.Group(),
            marker;
        //Adds a draggable marker to the map
        function addDraggableMarker(map, behavior, lat, lng) {
            marker = new H.map.Marker({ lat: lat, lng: lng }, {
                // mark the object as volatile for the smooth dragging
                volatility: true
            });
            // Ensure that the marker can receive drag events
            marker.draggable = true;
            map.addObject(groupMarker);
            groupMarker.addObject(marker);
            map.setCenter({ lat: lat, lng: lng });

            // disable the default draggability of the underlying map
            // and calculate the offset between mouse and target's position
            // when starting to drag a marker object:
            map.addEventListener('dragstart', function (ev) {
                var target = ev.target,
                    pointer = ev.currentPointer;
                if (target instanceof H.map.Marker) {
                    var targetPosition = map.geoToScreen(target.getGeometry());
                    target['offset'] = new H.math.Point(pointer.viewportX - targetPosition.x, pointer.viewportY - targetPosition.y);
                    behavior.disable();
                }
            }, false);

            // re-enable the default draggability of the underlying map
            // when dragging has completed
            map.addEventListener('dragend', function (ev) {
                var target = ev.target;
                if (target instanceof H.map.Marker) {
                    behavior.enable();
                }

                //Update data in the form with the position from the draggable marker
                var geometry = marker.getGeometry(),
                    lat = geometry.lat,
                    lng = geometry.lng;

                document.getElementById('lat').value = lat;
                document.getElementById('lng').value = lng;

                reverseGeocode(function (data) {
                    try {
                        address = data.Response.View[0].Result[0].Location.Address.Label;
                        //Add reverse geocode result to the form
                        document.getElementById('address').value = address;
                    }
                    catch (err) {
                        //alert('No address found!');
                        document.getElementById('address').value = '';
                    }
                }, lat, lng);

            }, false);

            // Listen to the drag event and move the position of the marker
            // as necessary
            map.addEventListener('drag', function (ev) {
                var target = ev.target,
                    pointer = ev.currentPointer;
                if (target instanceof H.map.Marker) {
                    target.setGeometry(map.screenToGeo(pointer.viewportX - target['offset'].x, pointer.viewportY - target['offset'].y));
                }
            }, false);
        }

        //Update position of the draggable marker with the lat/lng data in the form
        function moveMarkerByInputForm() {
            var lat = document.getElementById('lat').value,
                lng = document.getElementById('lng').value;
            marker.setGeometry({ lat: lat, lng: lng });
            map.setCenter({ lat: lat, lng: lng });

            reverseGeocode(function (data) {
                try {
                    address = data.Response.View[0].Result[0].Location.Address.Label;
                    //Add reverse geocode result to the form
                    document.getElementById('address').value = address;
                }
                catch (err) {
                    //alert('No address found!');
                    document.getElementById('address').value = '';
                }
            }, lat, lng);
        }

        //Below is the general scripts of interactive map

        /**
         * Boilerplate map initialization code starts below:
         */

        //Step 1: initialize communication with the platform
        // In your own code, replace variable window.apikey with your own apikey
        var platform = new H.service.Platform({
            apikey: JS_APIKEY
        });
        var defaultLayers = platform.createDefaultLayers();

        //Step 2: initialize a map - this map is centered over Europe
        var map = new H.Map(document.getElementById('map'),
            defaultLayers.vector.normal.map, {
            center: { lat: 0, lng: 0 },
            zoom: 1,
            pixelRatio: window.devicePixelRatio || 1
        });
        // add a resize listener to make sure that the map occupies the whole container
        window.addEventListener('resize', () => map.getViewPort().resize());

        //Step 3: make the map interactive
        // MapEvents enables the event system
        // Behavior implements default interactions for pan/zoom (also on mobile touch environments)
        var behavior = new H.mapevents.Behavior(new H.mapevents.MapEvents(map));

        // Create the default UI components
        var ui = H.ui.UI.createDefault(map, defaultLayers);

        // Remove not needed settings control
        // ui.removeControl('mapsettings');

        // Now use the map as required...

        //Call this function to add a draggable marker to the map at the default position
        //addDraggableMarker(map, behavior, defaultLat, defaultLng);
        findCurrentPosition();
    </script>
    <script>
        var UserLocation = 'home';
        function UserSelect(val) {

            $("#home").removeAttr("style");
            $("#hotel").removeAttr("style");
            $("#apartment").removeAttr("style");

            $("#" + val).attr("style", "background-color: white; color: black;");
            UserLocation = val;

        }
    </script>

    <!--User Input button conditions-->
    <script>
        var checkbutton = 0
        /*$('input[name="pains"]').click(function () {
            if ($('input[name="pains"]:checked').val() == 1) checkbutton = checkbutton + 1;
            else checkbutton = checkbutton - 1
            CheckButton();
        });
        $('input[name="food"]').click(function () {
            if ($('input[name="food"]:checked').val() == 1) checkbutton = checkbutton + 1;
            else checkbutton = checkbutton - 1
            CheckButton();
        });*/
        // $('input[name="fever"]').click(function () {
        //     if ($('input[name="fever"]:checked').val() == 1) checkbutton = checkbutton + 1;
        //     else checkbutton = checkbutton - 1
        //     CheckButton();
        // });
        // $('input[name="cough"]').click(function () {
        //     if ($('input[name="cough"]:checked').val() == 1) checkbutton = checkbutton + 1;
        //     else checkbutton = checkbutton - 1
        //     CheckButton();
        // });
        // $('input[name="breath"]').click(function () {
        //     if ($('input[name="breath"]:checked').val() == 1) checkbutton = checkbutton + 1;
        //     else checkbutton = checkbutton - 1
        //     CheckButton();
        // });

        // function CheckButton() {
        //     if (checkbutton == 3) {
        //         $('#sbutton').removeAttr("style");
        //         //$('#hbutton').removeAttr("style");
        //     }
        //     else {
        //         $('#sbutton').attr("style", "cursor:not-allowed");
        //         //$('#hbutton').attr("style", "cursor:not-allowed");
        //     }
        // }

        function RedirectH() {
            location.href = 'https://leetintelligence.com/LEETAPP/HospitalNearBy.html?lat=' + defaultLat + '&lng=' + defaultLng;
        }
    </script>
    <script src="assets/js/bootstrap.min.js" type="text/javascript"></script>

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-166797509-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'UA-166797509-1');
    </script>
    <script type="text/javascript">
        var onloadCallback = function () {
            // alert("grecaptcha is ready!");
        };
    //   $("form").submit(function(event) {

    //      var recaptcha = $("#g-recaptcha-response").val();
    //      if (recaptcha === "") {
    //         event.preventDefault();
    //         alert("Please check the recaptcha");
    //      }
    //   });
    </script>
    <script src="https://www.google.com/recaptcha/api.js?onload=onloadCallback&render=explicit" async defer>
    </script>


</body>

</html>